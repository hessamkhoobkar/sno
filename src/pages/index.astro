---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
const allposts = await getCollection("blog");
---

<BaseLayout>
  <main>
    <div class="grid grid-cols-3 gap-4">
      {
        allposts.map((post, index) => (
          <div
            class={`flex flex-col justify-start items-start gap-2 ${
              index === 0 ? "col-span-2" : "col-span-1"
            }`}
          >
            <img src={post.data.heroImage} alt={post.data.title} />
            <h3 class="text-2xl font-serif font-bold">{post.data.title}</h3>
            <p>{post.data.description}</p>
          </div>
        ))
      }
    </div>
  </main>
</BaseLayout>
